import{r as m,m as g,c as r,a as t,t as l,l as s,F as f,n as y,p as _,g as b,e as q,o as u}from"./index-DsZrCc_L.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";const k={class:"transaction-detail"},B={class:"qr-code"},D=["src"],C=["href"],R={__name:"TransactionDetail",setup(x){const i=b(),d=q(),a=m(null),p=async()=>{try{const e=await _.get(`/transactions/${i.params.id}`);a.value=e.data.data.transaction,a.value.qr_content=e.data.data.qr_content,a.value.qr_base64=e.data.data.qr_base64}catch{alert("Failed to fetch transaction detail")}},v=e=>new Date(e).toLocaleString(),c=()=>{d.back()};return g(()=>{p()}),(e,n)=>(u(),r("div",k,[t("h1",null,"Transaction Detail #"+l(a.value.id),1),t("div",null,[t("p",null,[n[0]||(n[0]=t("strong",null,"Type:",-1)),s(" "+l(a.value.type.toUpperCase()),1)]),t("p",null,[n[1]||(n[1]=t("strong",null,"Status:",-1)),s(" "+l(a.value.status.toUpperCase()),1)]),t("p",null,[n[2]||(n[2]=t("strong",null,"Unit:",-1)),s(" "+l(a.value.unit?.name),1)]),t("p",null,[n[3]||(n[3]=t("strong",null,"Created By:",-1)),s(" "+l(a.value.creator?.name),1)]),t("p",null,[n[4]||(n[4]=t("strong",null,"Validated By:",-1)),s(" "+l(a.value.validator?.name||"-"),1)]),t("p",null,[n[5]||(n[5]=t("strong",null,"Date:",-1)),s(" "+l(v(a.value.created_at)),1)]),t("p",null,[n[6]||(n[6]=t("strong",null,"Notes:",-1)),s(" "+l(a.value.notes||"-"),1)])]),t("div",B,[n[7]||(n[7]=t("h2",null,"Transaction QR Code",-1)),t("img",{src:a.value.qr_base64,alt:"Transaction QR"},null,8,D),t("p",null,[t("a",{href:a.value.qr_content,target:"_blank"},"QR Content: "+l(a.value.qr_content),9,C)])]),t("div",null,[n[9]||(n[9]=t("h2",null,"Instruments",-1)),t("table",null,[n[8]||(n[8]=t("thead",null,[t("tr",null,[t("th",null,"Name"),t("th",null,"Quantity")])],-1)),t("tbody",null,[(u(!0),r(f,null,y(a.value.items,o=>(u(),r("tr",{key:o.id},[t("td",null,l(o.instrument.name),1),t("td",null,l(o.quantity),1)]))),128))])])]),t("button",{onClick:c},"Back to Transactions")]))}},F=T(R,[["__scopeId","data-v-a38f7b4e"]]);export{F as default};
